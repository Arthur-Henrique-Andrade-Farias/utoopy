(function(){"use strict";var e={4384:function(e,a,o){var s=o(5130),l=o(6768);const n={id:"app"};function r(e,a,o,s,r,t){const i=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(i)])}var t={name:"App",components:{}},i=o(1241);const u=(0,i.A)(t,[["render",r]]);var c=u,d=o(1387);const v={class:"login-page"};function p(e,a,o,s,n,r){const t=(0,l.g2)("login-modal");return(0,l.uX)(),(0,l.CE)("div",v,[(0,l.bF)(t,{class:"login-modal"})])}o(4114);var m=o.p+"img/padlock.e9fadea4.svg",g=o(144),h=o(4373);const k=h.A.create({baseURL:"http://localhost:3000/api"});k.interceptors.request.use((e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization=`Bearer ${a}`),e}));const f={class:"login-modal"},L={class:"input-group"},C={class:"input-group"},b={class:"login-links"};var y={__name:"loginModal",setup(e){const a=(0,d.rd)(),o=(0,g.KR)(""),n=(0,g.KR)(""),r=async()=>{try{const{data:e}=await k.post("/login",{email:o.value,password:n.value});localStorage.setItem("token",e.token),alert("Login efetuado com sucesso!"),a.push("/home")}catch(e){alert(e.response?.data?.msg||"Credenciais inválidas")}};return(e,a)=>((0,l.uX)(),(0,l.CE)("div",f,[a[4]||(a[4]=(0,l.Lk)("img",{class:"padlock-icon",src:m,alt:"padlock"},null,-1)),a[5]||(a[5]=(0,l.Lk)("h2",null,"Login na Plataforma",-1)),(0,l.Lk)("div",L,[(0,l.bo)((0,l.Lk)("input",{id:"email",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),placeholder:"Email"},null,512),[[s.Jo,o.value]])]),(0,l.Lk)("div",C,[(0,l.bo)((0,l.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),placeholder:"Senha"},null,512),[[s.Jo,n.value]])]),(0,l.Lk)("button",{onClick:r},"Entrar"),(0,l.Lk)("div",b,[(0,l.Lk)("a",{href:"#",class:"forgot-password",onClick:a[2]||(a[2]=(0,s.D$)((a=>e.$router.push("/forgot-password")),["prevent"]))},"Esqueceu sua Senha?"),(0,l.Lk)("a",{href:"#",class:"register",onClick:a[3]||(a[3]=(0,s.D$)((a=>e.$router.push("/register")),["prevent"]))},"Registre-se aqui!")])]))}};const E=(0,i.A)(y,[["__scopeId","data-v-5adfb3a6"]]);var _=E,w={name:"LoginPage",components:{loginModal:_}};const P=(0,i.A)(w,[["render",p]]);var R=P;const A={class:"register-page"};function K(e,a,o,s,n,r){const t=(0,l.g2)("register-modal");return(0,l.uX)(),(0,l.CE)("div",A,[(0,l.bF)(t,{class:"register-modal"})])}var X=o.p+"img/arrow_back.74f96185.svg",S=o.p+"img/person.417367e8.svg";const I={class:"register-modal"},V={class:"input-group"},M={class:"input-group"},F={class:"input-group"};var $={__name:"registerModal",setup(e){const a=(0,d.rd)(),o=(0,g.KR)(""),n=(0,g.KR)(""),r=(0,g.KR)(""),t=(0,g.KR)(""),i=async()=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!e.test(n.value))return alert("E-mail inválido");if(r.value!==t.value)return alert("Senhas diferentes");try{const{data:e}=await k.post("/register",{name:o.value||"Usuário",email:n.value,password:r.value});localStorage.setItem("token",e.token),alert("Conta criada com sucesso! Faça login."),a.push("/")}catch(s){alert(s.response?.data?.msg||"Erro ao registrar")}};return(e,a)=>((0,l.uX)(),(0,l.CE)("div",I,[(0,l.Lk)("img",{class:"arrow-back",src:X,alt:"Voltar",onClick:a[0]||(a[0]=a=>e.$router.push("/"))}),a[4]||(a[4]=(0,l.Lk)("img",{class:"person-icon",src:S,alt:"padlock"},null,-1)),a[5]||(a[5]=(0,l.Lk)("h2",null,"Registrar na Plataforma",-1)),(0,l.Lk)("div",V,[(0,l.bo)((0,l.Lk)("input",{id:"email",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),placeholder:"Email"},null,512),[[s.Jo,n.value]])]),(0,l.Lk)("div",M,[(0,l.bo)((0,l.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":a[2]||(a[2]=e=>r.value=e),placeholder:"Senha"},null,512),[[s.Jo,r.value]])]),(0,l.Lk)("div",F,[(0,l.bo)((0,l.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":a[3]||(a[3]=e=>t.value=e),placeholder:"Confirmar Senha"},null,512),[[s.Jo,t.value]])]),(0,l.Lk)("button",{onClick:i},"Registrar")]))}};const x=(0,i.A)($,[["__scopeId","data-v-43fd0202"]]);var O=x,j={name:"RegisterPage",components:{registerModal:O}};const z=(0,i.A)(j,[["render",K]]);var D=z;const U={class:"plans-page"};function W(e,a,o,s,n,r){const t=(0,l.g2)("plans-modal");return(0,l.uX)(),(0,l.CE)("div",U,[(0,l.bF)(t,{class:"plans-modal"})])}var T=o(4232),q=o.p+"img/arrow_back.74f96185.svg",B=o.p+"img/payments.7549b91d.svg";const J={class:"plans-modal"},N={class:"container-group"},Q=["disabled","onClick"];function G(e,a,o,s,n,r){return(0,l.uX)(),(0,l.CE)("div",J,[a[10]||(a[10]=(0,l.Lk)("h1",null,"GoToMarket - Instagram",-1)),(0,l.Lk)("img",{src:q,alt:"Voltar",class:"arrow-back-icon",onClick:a[0]||(a[0]=a=>e.$router.push("/home"))}),a[11]||(a[11]=(0,l.Lk)("h2",null," I.A. de gerenciamento de postagens, comentários e usuários no Instagram. ",-1)),a[12]||(a[12]=(0,l.Lk)("img",{src:B,alt:"Payment",class:"payment-image"},null,-1)),(0,l.Lk)("div",N,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.plans,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,T.C4)(["container",e.id])},[(0,l.Lk)("h2",null,(0,T.v_)(r.formatPrice(e.price)),1),(0,l.Lk)("h2",{class:(0,T.C4)(e.idClass)},(0,T.v_)(e.name),3),"bronze"===e.id?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[a[1]||(a[1]=(0,l.Lk)("h3",null,"AutomatePosts",-1)),a[2]||(a[2]=(0,l.Lk)("h4",null," Posts automatizados, alocação de horário, criação de imagens e descrições. ",-1))],64)):"silver"===e.id?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[a[3]||(a[3]=(0,l.Lk)("h3",null,"AutomatePosts",-1)),a[4]||(a[4]=(0,l.Lk)("h3",null,"AutomateComments",-1)),a[5]||(a[5]=(0,l.Lk)("h4",null," Comentários automatizados, resposta de comentários em suas postagens e gerenciamento de interações, além do incluso no plano Bronze. ",-1))],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:2},[a[6]||(a[6]=(0,l.Lk)("h3",null,"AutomatePosts",-1)),a[7]||(a[7]=(0,l.Lk)("h3",null,"AutomateComments",-1)),a[8]||(a[8]=(0,l.Lk)("h3",null,"AutomateAdmin",-1)),a[9]||(a[9]=(0,l.Lk)("h4",null,' Administração automatizada, visualização e análise de "likes", "shares" e seguidores, configuração personalizada, além do incluso no plano Silver +. ',-1))],64)),(0,l.Lk)("button",{disabled:e.selected,class:(0,T.C4)({selected:e.selected}),onClick:a=>r.selectPlan(e)},(0,T.v_)(e.selected?"Selecionado":"Selecionar"),11,Q)],2)))),128))]),a[13]||(a[13]=(0,l.Lk)("h3",{class:"advise"}," Valores passíveis de negociação, assim como os produtos em questão. Para mais informações, WhatsApp: 000000000000 ",-1))])}o(8111),o(116),o(7588);var H={name:"PlansModal",data(){return{plans:[{id:"bronze",name:"Bronze",idClass:"Bronze",price:49.9,selected:!1},{id:"silver",name:"Silver +",idClass:"Silver",price:79.9,selected:!1},{id:"gold",name:"Gold ++",idClass:"Gold",price:99.9,selected:!1}]}},mounted(){this.fetchPlans()},methods:{async fetchPlans(){try{const e=localStorage.getItem("token"),a=await fetch("/api/plans",{headers:{Authorization:`Bearer ${e}`}});if(!a.ok)throw new Error("Falha ao buscar planos");const{plans:o}=await a.json();o.forEach((e=>{const a=this.plans.find((a=>a.id===e.id));a&&(a.selected=!!e.selected)}))}catch(e){console.error(e)}},formatPrice(e){return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2})},async selectPlan(e){e.selected||console.log("Selecionar plano",e.id)}}};const Y=(0,i.A)(H,[["render",G],["__scopeId","data-v-29047370"]]);var Z=Y,ee={name:"plansPage",components:{plansModal:Z}};const ae=(0,i.A)(ee,[["render",W]]);var oe=ae;const se={class:"dashboard-page"};function le(e,a,o,s,n,r){const t=(0,l.g2)("dashboard-modal");return(0,l.uX)(),(0,l.CE)("div",se,[(0,l.bF)(t,{class:"dashboard-modal"})])}var ne=o.p+"img/market.60ea026f.svg",re=o.p+"img/arrow_back.74f96185.svg";const te={class:"dashboard-modal"},ie={class:"cards"},ue={key:0,class:"card postagens"},ce={key:0,class:"upgrade-msg"},de={key:1,class:"card locked"},ve={key:2,class:"card comentarios"},pe={key:0,class:"upgrade-msg"},me={key:3,class:"card locked"},ge={key:4,class:"card analytics"},he={class:"metrics"},ke={class:"metric"},fe={class:"value"},Le={class:"metric"},Ce={class:"value"},be={class:"metric"},ye={class:"value"},Ee={key:0,class:"upgrade-msg"},_e={key:5,class:"card locked"},we={name:"CommentItem",props:{comment:Object},template:'\n    <li>\n      <div class="avatar"></div>\n      <div class="coment-text">\n        <strong>{{ comment.author_name || \'Usuário\' }}</strong>\n        <p>{{ comment.text }}</p>\n        <small>{{ comment.created_at }}</small>\n      </div>\n      <ul v-if="comment.replies.length" class="replies">\n        <CommentItem v-for="r in comment.replies" :key="r.id" :comment="r" />\n      </ul>\n    </li>\n  '};var Pe=Object.assign(we,{setup(e){const a=(0,d.rd)(),o=(0,g.KR)("starter"),s=(0,g.KR)([]),n=(0,g.KR)([]),r=(0,g.KR)({}),t=(0,g.KR)(!1),i=(0,g.KR)(!1),u=(0,g.KR)(!1);(0,l.sV)((async()=>{const e=localStorage.getItem("token");try{const{data:a}=await h.A.get("http://localhost:3000/api/home",{headers:{Authorization:`Bearer ${e}`}});o.value=a.user.level,s.value=a.posts,n.value=a.comments,r.value=a.analytics,c.value&&0===s.value.length&&(s.value=[{id:1,day:"21/05/2025",hour:"09:00",theme:"Lançamento do Produto X"},{id:2,day:"22/05/2025",hour:"14:30",theme:"Dica de Marketing Digital"},{id:3,day:"23/05/2025",hour:"10:15",theme:"Depoimento de Cliente"}],t.value=!0),v.value&&0===n.value.length&&(n.value=[{id:1,author_name:"Maria",text:"Adorei o conteúdo!",created_at:"21/05/2025 10:05",replies:[{id:2,author_name:"Equipe",text:"Obrigado pelo feedback! 😊",created_at:"21/05/2025 10:20",replies:[]}]}],i.value=!0),p.value&&0===Object.keys(r.value).length&&(r.value={posts_count:120,likes_count:3400,followers_count:980},u.value=!0)}catch(l){console.error(l),a.push("/")}}));const c=(0,l.EW)((()=>["bronze","silver","gold"].includes(o.value))),v=(0,l.EW)((()=>["silver","gold"].includes(o.value))),p=(0,l.EW)((()=>"gold"===o.value));return(e,a)=>{const o=(0,l.g2)("CommentItem");return(0,l.uX)(),(0,l.CE)("div",te,[a[12]||(a[12]=(0,l.Lk)("h2",null,"GoToMarket – Dashboard",-1)),(0,l.Lk)("img",{src:ne,class:"market-icon",onClick:a[0]||(a[0]=a=>e.$router.push("/plans"))}),(0,l.Lk)("img",{src:re,class:"back-arrow-icon",onClick:a[1]||(a[1]=a=>e.$router.push("/"))}),(0,l.Lk)("div",ie,[c.value?((0,l.uX)(),(0,l.CE)("div",ue,[a[3]||(a[3]=(0,l.Lk)("h3",null,"Postagens",-1)),(0,l.Lk)("table",null,[a[2]||(a[2]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Dia"),(0,l.Lk)("th",null,"Hora"),(0,l.Lk)("th",null,"Tema")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,T.v_)(e.day),1),(0,l.Lk)("td",null,(0,T.v_)(e.hour),1),(0,l.Lk)("td",null,(0,T.v_)(e.theme),1)])))),128))])]),t.value?((0,l.uX)(),(0,l.CE)("small",ce," *Exemplo de dados. Agende posts reais para vê-los aqui. ")):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.CE)("div",de,a[4]||(a[4]=[(0,l.Lk)("h3",null,"Postagens",-1),(0,l.Lk)("p",{class:"upgrade-msg"},[(0,l.eW)("Disponível a partir do "),(0,l.Lk)("strong",null,"Plano Bronze"),(0,l.eW)(".")],-1)]))),v.value?((0,l.uX)(),(0,l.CE)("div",ve,[a[5]||(a[5]=(0,l.Lk)("h3",null,"Comentários",-1)),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.value,(e=>((0,l.uX)(),(0,l.Wv)(o,{key:e.id,comment:e},null,8,["comment"])))),128))]),i.value?((0,l.uX)(),(0,l.CE)("small",pe," *Exemplo de dados. Migre integrações para ver comentários reais. ")):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.CE)("div",me,a[6]||(a[6]=[(0,l.Lk)("h3",null,"Comentários",-1),(0,l.Lk)("p",{class:"upgrade-msg"},[(0,l.eW)("Disponível a partir do "),(0,l.Lk)("strong",null,"Plano Silver"),(0,l.eW)(".")],-1)]))),p.value?((0,l.uX)(),(0,l.CE)("div",ge,[a[10]||(a[10]=(0,l.Lk)("h3",null,"Analytics",-1)),(0,l.Lk)("div",he,[(0,l.Lk)("div",ke,[(0,l.Lk)("span",fe,(0,T.v_)(r.value.posts_count),1),a[7]||(a[7]=(0,l.Lk)("span",{class:"label"},"Posts",-1))]),(0,l.Lk)("div",Le,[(0,l.Lk)("span",Ce,(0,T.v_)(r.value.likes_count),1),a[8]||(a[8]=(0,l.Lk)("span",{class:"label"},"Likes",-1))]),(0,l.Lk)("div",be,[(0,l.Lk)("span",ye,(0,T.v_)(r.value.followers_count),1),a[9]||(a[9]=(0,l.Lk)("span",{class:"label"},"Seguidores",-1))])]),u.value?((0,l.uX)(),(0,l.CE)("small",Ee," *Exemplo de métricas. Conecte suas redes para ver dados reais. ")):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.CE)("div",_e,a[11]||(a[11]=[(0,l.Lk)("h3",null,"Analytics",-1),(0,l.Lk)("p",{class:"upgrade-msg"},[(0,l.eW)("Disponível no "),(0,l.Lk)("strong",null,"Plano Gold"),(0,l.eW)(".")],-1)])))])])}}});const Re=(0,i.A)(Pe,[["__scopeId","data-v-5f169c36"]]);var Ae=Re,Ke={name:"homePage",components:{dashboardModal:Ae}};const Xe=(0,i.A)(Ke,[["render",le]]);var Se=Xe;const Ie={class:"forgotPass-page"};function Ve(e,a,o,s,n,r){const t=(0,l.g2)("forgotPass-modal");return(0,l.uX)(),(0,l.CE)("div",Ie,[(0,l.bF)(t,{class:"forgotPass-modal"})])}const Me={class:"forgotPass-modal"},Fe={class:"input-group"},$e=["disabled"];var xe={__name:"forgotPassModal",setup(e){const a=(0,g.KR)(""),o=(0,g.KR)(""),n=(0,g.KR)(!1),r=(0,g.KR)(!1),t=(0,d.rd)(),i=async()=>{if(!a.value)return o.value="Por favor, insira seu email.",void(r.value=!0);const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!e.test(a.value))return o.value="Por favor, insira um email válido.",void(r.value=!0);n.value=!0,o.value="",r.value=!1;try{await h.A.post("http://localhost:3000/api/forgot-password",{email:a.value});t.push({name:"ConfirmCode",params:{email:a.value}})}catch(s){console.error("Erro ao solicitar código de recuperação:",s),s.response&&s.response.data&&s.response.data.message?o.value=s.response.data.message:o.value="Não foi possível enviar o código. Tente novamente mais tarde.",r.value=!0}finally{n.value=!1}};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",Me,[(0,l.Lk)("img",{class:"arrow-back",src:X,alt:"Voltar",onClick:t[0]||(t[0]=a=>e.$router.push("/"))}),t[2]||(t[2]=(0,l.Lk)("img",{class:"person-icon",src:S,alt:"Ícone de cadeado"},null,-1)),t[3]||(t[3]=(0,l.eW)()),t[4]||(t[4]=(0,l.Lk)("h2",null,"Esqueceu a Senha",-1)),(0,l.Lk)("div",Fe,[(0,l.bo)((0,l.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),placeholder:"Email",onKeyup:(0,s.jR)(i,["enter"])},null,544),[[s.Jo,a.value]])]),o.value?((0,l.uX)(),(0,l.CE)("p",{key:0,class:(0,T.C4)({"success-message":!r.value,"error-message":r.value})},(0,T.v_)(o.value),3)):(0,l.Q3)("",!0),(0,l.Lk)("button",{onClick:i,disabled:n.value},(0,T.v_)(n.value?"Enviando...":"Enviar código"),9,$e)]))}};const Oe=(0,i.A)(xe,[["__scopeId","data-v-ff59a840"]]);var je=Oe,ze={name:"ForgotPassPage",components:{forgotPassModal:je}};const De=(0,i.A)(ze,[["render",Ve]]);var Ue=De;const We={class:"confirmCode-page"};function Te(e,a,o,s,n,r){const t=(0,l.g2)("confirmCode-modal");return(0,l.uX)(),(0,l.CE)("div",We,[(0,l.bF)(t,{class:"confirmCode-modal"})])}const qe={class:"confirmCode-modal"},Be={class:"subtitle"},Je={class:"input-group"},Ne=["disabled"];var Qe={__name:"confirmCodeModal",setup(e){const a=(0,d.rd)(),o=(0,d.lq)(),n=(0,g.KR)(""),r=(0,g.KR)(""),t=(0,g.KR)(""),i=(0,g.KR)(!1),u=(0,g.KR)(!1),c=(0,g.KR)(0);let v=null;const p=(0,l.EW)((()=>{if(!n.value)return"";const[e,a]=n.value.split("@");if(!a)return n.value;const o=e.length>3?`${e.substring(0,2)}***${e.substring(e.length-1)}`:`${e.substring(0,1)}***`;return`${o}@${a}`}));(0,l.sV)((()=>{o.params.email?n.value=o.params.email:(t.value="Email não fornecido. Volte e tente novamente.",u.value=!0)}));const m=()=>{c.value=60,v=setInterval((()=>{c.value--,c.value<=0&&clearInterval(v)}),1e3)},k=async()=>{if(!(c.value>0)&&n.value){i.value=!0,t.value="",u.value=!1;try{await h.A.post("http://localhost:3000/api/forgot-password",{email:n.value}),t.value="Um novo código foi enviado para o seu email.",u.value=!1,m()}catch(e){console.error("Erro ao reenviar código:",e),t.value=e.response?.data?.message||"Não foi possível reenviar o código.",u.value=!0}finally{i.value=!1}}},f=async()=>{if(!r.value||6!==r.value.length)return t.value="Por favor, insira um código de 6 dígitos.",void(u.value=!0);if(!n.value)return t.value="Email não encontrado. Por favor, tente o processo novamente.",void(u.value=!0);i.value=!0,t.value="",u.value=!1;try{const e=await h.A.post("http://localhost:3000/api/verify-recovery-code",{email:n.value,token:r.value});t.value=e.data.message,u.value=!1,a.push({name:"ChangePassword",params:{email:n.value,code:r.value}})}catch(e){console.error("Erro ao verificar código:",e),t.value=e.response?.data?.message||"Código inválido ou expirado.",u.value=!0}finally{i.value=!1}},L=()=>{a.push("/")};return(0,l.hi)((()=>{v&&clearInterval(v)})),(e,a)=>((0,l.uX)(),(0,l.CE)("div",qe,[(0,l.Lk)("img",{class:"arrow-back",src:X,alt:"Voltar",onClick:L}),a[1]||(a[1]=(0,l.Lk)("img",{class:"person-icon",src:S,alt:"Ícone de pessoa"},null,-1)),a[2]||(a[2]=(0,l.Lk)("h2",null,"Digite o código",-1)),(0,l.Lk)("p",Be,"Enviamos um código de verificação para "+(0,T.v_)(p.value)+".",1),(0,l.Lk)("div",Je,[(0,l.bo)((0,l.Lk)("input",{id:"code",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),placeholder:"Código de 6 dígitos",onKeyup:(0,s.jR)(f,["enter"]),maxlength:"6"},null,544),[[s.Jo,r.value]])]),t.value?((0,l.uX)(),(0,l.CE)("p",{key:0,class:(0,T.C4)(["message",u.value?"error-message":"success-message"])},(0,T.v_)(t.value),3)):(0,l.Q3)("",!0),(0,l.Lk)("button",{onClick:f,disabled:i.value},(0,T.v_)(i.value?"Verificando...":"Verificar Código"),9,Ne),(0,l.Lk)("p",{class:(0,T.C4)(["resend-code",{disabled:c.value>0}]),onClick:k},(0,T.v_)(c.value>0?`Aguarde ${c.value}s`:"Reenviar código"),3)]))}};const Ge=(0,i.A)(Qe,[["__scopeId","data-v-323e1ed2"]]);var He=Ge,Ye={name:"confirmCode",components:{confirmCodeModal:He}};const Ze=(0,i.A)(Ye,[["render",Te]]);var ea=Ze;const aa={class:"changePass-page"};function oa(e,a,o,s,n,r){const t=(0,l.g2)("changePass-modal");return(0,l.uX)(),(0,l.CE)("div",aa,[(0,l.bF)(t,{class:"changePass-modal"})])}const sa={class:"changePass-modal"},la={class:"input-group"},na={class:"input-group"},ra=["disabled"];var ta={__name:"changePassModal",setup(e){const a=(0,d.rd)(),o=(0,d.lq)(),n=(0,g.KR)(""),r=(0,g.KR)(""),t=(0,g.KR)(""),i=(0,g.KR)(""),u=(0,g.KR)(""),c=(0,g.KR)(!1),v=(0,g.KR)(!1);(0,l.sV)((()=>{o.params.email&&o.params.code?(n.value=o.params.email,r.value=o.params.code):(u.value="Dados de recuperação inválidos. Tente o processo novamente.",v.value=!0)}));const p=async()=>{if(!t.value||!i.value)return u.value="Por favor, preencha ambos os campos de senha.",void(v.value=!0);if(t.value!==i.value)return u.value="As senhas não coincidem.",void(v.value=!0);if(t.value.length<6)return u.value="A senha deve ter pelo menos 6 caracteres.",void(v.value=!0);if(!n.value||!r.value)return u.value="Não foi possível verificar os dados de recuperação. Tente novamente desde o início.",void(v.value=!0);c.value=!0,u.value="",v.value=!1;try{const e=await h.A.post("http://localhost:3000/api/reset-password",{email:n.value,token:r.value,newPassword:t.value});u.value=e.data.message+" Você será redirecionado para o login.",v.value=!1,setTimeout((()=>{a.push("/")}),3e3)}catch(e){console.error("Erro ao redefinir senha:",e),u.value=e.response?.data?.message||"Não foi possível redefinir a senha.",v.value=!0}finally{c.value=!1}},m=()=>{a.push("/")};return(e,a)=>((0,l.uX)(),(0,l.CE)("div",sa,[(0,l.Lk)("img",{class:"arrow-back",src:X,alt:"Voltar",onClick:m}),a[2]||(a[2]=(0,l.Lk)("img",{class:"person-icon",src:S,alt:"Ícone de pessoa"},null,-1)),a[3]||(a[3]=(0,l.Lk)("h2",null,"Defina sua Nova Senha",-1)),a[4]||(a[4]=(0,l.Lk)("p",{class:"subtitle"},"Escolha uma senha forte para proteger sua conta.",-1)),(0,l.Lk)("div",la,[(0,l.bo)((0,l.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),placeholder:"Nova Senha",onKeyup:(0,s.jR)(p,["enter"])},null,544),[[s.Jo,t.value]])]),(0,l.Lk)("div",na,[(0,l.bo)((0,l.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":a[1]||(a[1]=e=>i.value=e),placeholder:"Confirmar Senha",onKeyup:(0,s.jR)(p,["enter"])},null,544),[[s.Jo,i.value]])]),u.value?((0,l.uX)(),(0,l.CE)("p",{key:0,class:(0,T.C4)(["message",v.value?"error-message":"success-message"])},(0,T.v_)(u.value),3)):(0,l.Q3)("",!0),(0,l.Lk)("button",{onClick:p,disabled:c.value},(0,T.v_)(c.value?"Salvando...":"Redefinir Senha"),9,ra)]))}};const ia=(0,i.A)(ta,[["__scopeId","data-v-0d2ebe92"]]);var ua=ia,ca={name:"changePass",components:{changePassModal:ua}};const da=(0,i.A)(ca,[["render",oa]]);var va=da;const pa=[{path:"/",name:"Login",component:R},{path:"/register",name:"Register",component:D},{path:"/plans",name:"Plans",component:oe},{path:"/home",name:"Home",component:Se},{path:"/forgot-password",name:"ForgotPassword",component:Ue},{path:"/confirm-code/:email",name:"ConfirmCode",component:ea,props:!0},{path:"/change-password/:email/:code",name:"ChangePassword",component:va,props:!0}],ma=(0,d.aE)({history:(0,d.LA)(),routes:pa});var ga=ma;(0,s.Ef)(c).use(ga).mount("#app")}},a={};function o(s){var l=a[s];if(void 0!==l)return l.exports;var n=a[s]={exports:{}};return e[s].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(a,s,l,n){if(!s){var r=1/0;for(c=0;c<e.length;c++){s=e[c][0],l=e[c][1],n=e[c][2];for(var t=!0,i=0;i<s.length;i++)(!1&n||r>=n)&&Object.keys(o.O).every((function(e){return o.O[e](s[i])}))?s.splice(i--,1):(t=!1,n<r&&(r=n));if(t){e.splice(c--,1);var u=l();void 0!==u&&(a=u)}}return a}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[s,l,n]}}(),function(){o.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(a,{a:a}),a}}(),function(){o.d=function(e,a){for(var s in a)o.o(a,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={524:0};o.O.j=function(a){return 0===e[a]};var a=function(a,s){var l,n,r=s[0],t=s[1],i=s[2],u=0;if(r.some((function(a){return 0!==e[a]}))){for(l in t)o.o(t,l)&&(o.m[l]=t[l]);if(i)var c=i(o)}for(a&&a(s);u<r.length;u++)n=r[u],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},s=self["webpackChunkutoopy"]=self["webpackChunkutoopy"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=o.O(void 0,[504],(function(){return o(4384)}));s=o.O(s)})();
//# sourceMappingURL=app.60aea1b5.js.map